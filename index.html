<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SLN – The Love Story of Sean & Naomi</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fff0f5;
      color: #333;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header {
      background: #ffb6c1;
      padding: 30px 10px;
    }
    header h1 {
      font-size: 3em;
      margin: 0;
      color: white;
    }
    header p {
      font-size: 1.2em;
      color: white;
    }
    nav {
      background: #ffe4e1;
      padding: 15px;
    }
    nav a {
      margin: 0 15px;
      text-decoration: none;
      color: #d6336c;
      font-weight: bold;
      font-size: 1.1em;
      outline: none;
      transition: color 0.3s ease;
      cursor: pointer;
      user-select: none;
    }
    nav a:hover,
    nav a:focus {
      color: #a61e4d;
      outline: 2px solid #a61e4d;
      outline-offset: 2px;
    }
    .container {
      padding: 30px;
      max-width: 800px;
      margin: auto;
      opacity: 1;
      transition: opacity 0.5s ease;
      min-height: 300px;
    }
    .container.fade-out {
      opacity: 0;
    }
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }
    .gallery img {
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 0 8px rgba(0,0,0,0.2);
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .gallery img:hover,
    .gallery img:focus {
      transform: scale(1.05);
      outline: 2px solid #a61e4d;
    }
    form {
      max-width: 400px;
      margin: auto;
      text-align: left;
    }
    label, input, textarea {
      display: block;
      width: 100%;
      margin-bottom: 12px;
      font-size: 1em;
    }
    input, textarea {
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      box-sizing: border-box;
      font-family: inherit;
    }
    input:focus, textarea:focus {
      border-color: #a61e4d;
      outline: none;
      box-shadow: 0 0 5px #a61e4d;
    }
    button {
      background-color: #ff7f9c;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1em;
      transition: background-color 0.3s ease;
    }
    button:hover,
    button:focus {
      background-color: #e66782;
      outline: none;
    }
    .success {
      margin-top: 10px;
      color: green;
      font-weight: bold;
    }
    footer {
      background: #ffe4e1;
      padding: 20px;
      margin-top: 30px;
      color: #444;
    }
    /* Modal styles */
    #modal {
      display: none;
      position: fixed;
      z-index: 10000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.5);
      align-items: center;
      justify-content: center;
    }
    #modal .modal-content {
      background: white;
      padding: 30px;
      border-radius: 12px;
      max-width: 90%;
      max-height: 80%;
      overflow-y: auto;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      text-align: center;
      font-size: 1.2em;
    }
    #modal button.close-modal {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #ff7f9c;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1em;
      transition: background-color 0.3s ease;
    }
    #modal button.close-modal:hover {
      background-color: #e66782;
    }

    /* Chat widget */
    #chat-widget {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 320px;
      max-width: 90vw;
      background: white;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      z-index: 10001;
      font-size: 0.9em;
    }
    #chat-header {
      background: #ff7f9c;
      color: white;
      padding: 10px 15px;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
    }
    #chat-messages {
      height: 200px;
      overflow-y: auto;
      padding: 15px;
      background: #fff0f5;
      flex-grow: 1;
    }
    #chat-input {
      border-top: 1px solid #ccc;
      display: flex;
    }
    #chat-input textarea {
      flex-grow: 1;
      border: none;
      padding: 10px;
      font-family: inherit;
      resize: none;
      outline: none;
    }
    #chat-input button {
      background: #ff7f9c;
      border: none;
      color: white;
      padding: 10px 20px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    #chat-input button:hover {
      background: #e66782;
    }
    .chat-message {
      margin-bottom: 10px;
      text-align: left;
    }
    .chat-message.user {
      text-align: right;
      font-weight: bold;
      color: #d6336c;
    }
    .chat-message.bot {
      font-style: italic;
      color: #555;
    }
  </style>
</head>
<body>

  <header>
    <h1>SLN</h1>
    <p>The Love Story of Sean & Naomi</p>
  </header>

  <nav>
    <a href="javascript:void(0)" onclick="navigate('home')" tabindex="0">Home</a>
    <a href="javascript:void(0)" onclick="navigate('story')" tabindex="0">Their Story</a>
    <a href="javascript:void(0)" onclick="navigate('gallery')" tabindex="0">Gallery</a>
    <a href="javascript:void(0)" onclick="navigate('timeline')" tabindex="0">Timeline</a>
    <a href="javascript:void(0)" onclick="navigate('contact')" tabindex="0">Contact</a>
  </nav>

  <div class="container" id="content" aria-live="polite" aria-atomic="true">
    <!-- Dynamic content here -->
  </div>

  <footer>
    © 2025 SLN | A story written in the stars
  </footer>

  <!-- Modal for confirmation -->
  <div id="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1">
    <div class="modal-content">
      <p id="modal-message"></p>
      <button class="close-modal" aria-label="Close confirmation" onclick="closeModal()">Close</button>
    </div>
  </div>

  <!-- Simple Chat Widget -->
  <div id="chat-widget" aria-label="Chat widget" role="region" aria-live="polite">
    <div id="chat-header" tabindex="0" role="button" aria-expanded="true" aria-controls="chat-messages" onclick="toggleChat()">
      Chat with us
    </div>
    <div id="chat-messages"></div>
    <div id="chat-input">
      <textarea id="chat-textarea" rows="1" placeholder="Type your message..." aria-label="Type your message"></textarea>
      <button onclick="sendChatMessage()" aria-label="Send chat message">Send</button>
    </div>
  </div>

  <script>
    // Page content
    const pages = {
      home: `
        <h2>Welcome to SLN</h2>
        <p>Boboler says hi</p>
      `,
      story: `
        <h2>How It All Began</h2>
        <p>bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah bismillah</p>
      `,
      gallery: `
        <h2>Moments Captured</h2>
        <div class="gallery" role="list">
          <img src="https://lh3.googleusercontent.com/a-/ALV-UjV7UYfjfZNY8MKU8r8i4pFGyhpfpKVAA3eVkWVEO_E0GIfLa7Sj=s128-p-k-rw-no" alt="Naomi's Teddy Bear" tabindex="0" role="listitem">
          <img src="file:///var/folders/c3/2pk06vgs2r50fdrjhmbyhtjr0000gn/T/TemporaryItems/NSIRD_screencaptureui_M9ngss/%E6%88%AA%E5%9C%96%202025-06-18%20%E4%B8%8A%E5%8D%889.57.15.png" alt="Walking together" tabindex="0" role="listitem">
          <img src="https://via.placeholder.com/300x200?text=Paris+Trip" alt="Paris Trip" tabindex="0" role="listitem">
          <img src="https://via.placeholder.com/300x200?text=Beach+Sunset" alt="Beach Sunset" tabindex="0" role="listitem">
        </div>
      `,
      timeline: `
        <h2>Timeline</h2>
        <p>2025/1/__ – Labubu met</p>
        <p>2025/2/__ – 告白</p>
        <p>2025/5/30 – 一起走被boboler+dean拍</p>
        <p>2025/6/3 – Naomi becomes the priest's wife in Bobolism</p>
        <p>2025/6/4 – Sean Liao becomes king</p>
        <p>2025/6/4 – Naomi becomes queen</p>
        <p>2025/6/15 – Sean 14th Birthday – 開放水域</p>
        <p>2025/9/17 – Naomi 15th Birthday</p>
        <p>2027/6/15 – Sean 16th Birthday – (Hint: chapter 28)</p>
        <p>2028/6/15 – Sean 17th Birthday – 訂婚</p>
        <p>2029/6/15 – Sean 18th Birthday – 結婚</p>
        <p>2029/6/16 – Naomi van den Heuvel → Naomi Liao</p>
        <p>2031/6/15 – Sean 20th Birthday – make babies</p>
        <p>2032/4/15 – Children born (___ Liao)</p>
        <p>2032/6/15 – Sean 21st Birthday</p>
        <p>2033/6/15 – Sean 22nd Birthday – graduate from college</p>
        <p>2034/6/15 – Sean 23rd Birthday – another make baby thing</p>
        <p>2035/6/15 – Sean 24th Birthday – another baby born (___ Liao)</p>
      `,
      contact: `
        <h2>Contact Us</h2>
        <form id="contact-form" novalidate>
          <label for="name">Your name</label>
          <input type="text" id="name" name="name" placeholder="Your name" required>
          <label for="email">Your email</label>
          <input type="email" id="email" name="email" placeholder="Your email" required>
          <label for="message">Your message</label>
          <textarea id="message" name="message" placeholder="Your message..." rows="6" required></textarea>
          <button type="submit">Send Message</button>
        </form>
      `
    };

    const content = document.getElementById('content');
    let currentPage = '';

    // Show page with fade animation
    function navigate(page) {
      if (page === currentPage) return;
      content.classList.add('fade-out');
      setTimeout(() => {
        content.innerHTML = pages[page];
        currentPage = page;
        content.classList.remove('fade-out');
        if (page === 'contact') setupContactForm();
        if (page === 'gallery') setupGalleryLightbox();
      }, 500);
    }

    // Setup contact form submit with improved validation and FormSubmit.co fix
    function setupContactForm() {
      const form = document.getElementById('contact-form');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        // Simple validation
        if (!form.checkValidity()) {
          form.reportValidity();
          return;
        }

        // Show loading or disable submit button
        const submitBtn = form.querySelector('button[type="submit"]');
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';

        const formData = new FormData(form);

        try {
          const response = await fetch('https://formsubmit.co/ajax/j12345@kcis.com.tw', {
            method: 'POST',
            body: formData,
            headers: {
              'Accept': 'application/json'
            }
          });

          const data = await response.json();
          if (data.success) {
            form.reset();
            showModal('Message sent! 💖 Thank you for contacting us.');
          } else {
            showModal('Something went wrong. Please try again.');
          }
        } catch (error) {
          showModal('There was an error sending your message. Please try again later.');
          console.error(error);
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = 'Send Message';
        }
      });
    }

    // Modal functions
    const modal = document.getElementById('modal');
    const modalMessage = document.getElementById('modal-message');

    function showModal(message) {
      modalMessage.textContent = message;
      modal.style.display = 'flex';
      modal.focus();
    }

    function closeModal() {
      modal.style.display = 'none';
    }

    // Close modal on ESC key
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.style.display === 'flex') {
        closeModal();
      }
    });

    // Gallery lightbox
    function setupGalleryLightbox() {
      const imgs = document.querySelectorAll('.gallery img');
      imgs.forEach(img => {
        img.addEventListener('click', () => openLightbox(img.src, img.alt));
        img.addEventListener('keypress', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            openLightbox(img.src, img.alt);
          }
        });
      });
    }

    // Lightbox element
    let lightbox = null;

    function openLightbox(src, alt) {
      if (!lightbox) {
        lightbox = document.createElement('div');
        lightbox.style.position = 'fixed';
        lightbox.style.top = 0;
        lightbox.style.left = 0;
        lightbox.style.width = '100vw';
        lightbox.style.height = '100vh';
        lightbox.style.backgroundColor = 'rgba(0,0,0,0.8)';
        lightbox.style.display = 'flex';
        lightbox.style.alignItems = 'center';
        lightbox.style.justifyContent = 'center';
        lightbox.style.zIndex = '100000';
        lightbox.style.cursor = 'pointer';
        lightbox.tabIndex = 0;
        lightbox.setAttribute('role', 'dialog');
        lightbox.setAttribute('aria-modal', 'true');
        lightbox.setAttribute('aria-label', 'Image preview');

        const img = document.createElement('img');
        img.style.maxWidth = '90vw';
        img.style.maxHeight = '90vh';
        img.alt = alt || '';
        lightbox.appendChild(img);

        lightbox.addEventListener('click', () => closeLightbox());
        lightbox.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') closeLightbox();
        });

        document.body.appendChild(lightbox);
      }

      lightbox.firstChild.src = src;
      lightbox.firstChild.alt = alt || '';
      lightbox.style.display = 'flex';
      lightbox.focus();
    }

    function closeLightbox() {
      if (lightbox) {
        lightbox.style.display = 'none';
      }
    }

    // Chat widget
    const chatWidget = document.getElementById('chat-widget');
    const chatHeader = document.getElementById('chat-header');
    const chatMessages = document.getElementById('chat-messages');
    const chatTextarea = document.getElementById('chat-textarea');

    let chatOpen = true;

    function toggleChat() {
      chatOpen = !chatOpen;
      chatMessages.style.display = chatOpen ? 'block' : 'none';
      document.getElementById('chat-input').style.display = chatOpen ? 'flex' : 'none';
      chatHeader.setAttribute('aria-expanded', chatOpen.toString());
    }

    function appendChatMessage(text, sender = 'bot') {
      const div = document.createElement('div');
      div.textContent = text;
      div.classList.add('chat-message');
      div.classList.add(sender);
      chatMessages.appendChild(div);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function sendChatMessage() {
      const message = chatTextarea.value.trim();
      if (!message) return;

      appendChatMessage(message, 'user');
      chatTextarea.value = '';

      // Simple simulated bot reply
      setTimeout(() => {
        appendChatMessage('Thank you for your message! We will get back to you soon.');
      }, 1000);
    }

    // Send chat on Enter (shift+enter for newline)
    chatTextarea.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendChatMessage();
      }
    });

    // Load home page on start
    navigate('home');
  </script>

</body>
</html>
